@page
@model IndexModel

@using System.Xml;
@using System;
@using System.IO;



@{

    <script>
        var opcion = entrada();
    function entrada() {
        
        var elegida;

        do {

            elegida = window.prompt("opciones\n" + "1. importar xml.\n" + "2. exportar xml.");

        } while (opcion != "importar" && opcion != "exportar" && opcion != null);

        return elegida;
    }



    </script>

   

}

@functions{



    public static String prueba(string opcion)
    {

        

        XmlTextReader hola = null;
        XmlDocument documento = null;
        string prueba = "";
        try
        {


            hola = new XmlTextReader("C:/xampp/htdocs/proyecto/xml/informacion.xml");

            documento = new XmlDocument();

            documento.Load(hola);

            documento.Save("Hola.xml");


            while (hola.Read())
            {
                switch (hola.NodeType)
                {
                    case XmlNodeType.Element:
                        prueba += hola.Name.ToString();

                        break;
                    case XmlNodeType.Text:
                        prueba += hola.Value.ToString();
                        break;


                }

            }

            documento.Save("hola.xml");

        }
        catch (XmlException a)
        {

            Console.WriteLine(a.Message);

        }
        catch (FileNotFoundException e)
        {

            Console.WriteLine(e.Message);
        }
        finally
        {

            hola.Close();
        }

        return "hola";

    }

    //TODO: Sustitur atributo onclick por ViewData[];


    /*Console.WriteLine("Introduce el nombre del archivo que deseas crear: ");

    XmlDocument documento = new XmlDocument();

    XmlDeclaration declaracion = documento.CreateXmlDeclaration("1.0", "UTF-8", null);

    XmlElement raiz = documento.CreateElement("raiz");


    documento.AppendChild(raiz);
    documento.InsertBefore(declaracion, raiz);

    XmlElement subhijo = documento.CreateElement("grupo");
    subhijo.InnerText = "hola";

    raiz.AppendChild(subhijo);

    documento.Save("./hola.xml");*/




}


